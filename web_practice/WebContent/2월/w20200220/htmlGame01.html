<!DOCTYPE html>
<html lang="ko" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>게임만들기_1</title>
    <style media="screen">
      canvas{background-color: #aaaaaa}
    </style>
    <script type="text/javascript">
      var ca;
      // 이미지 반복 위한 변수
      var count =0;
      // 이미지 가져옴
      var bgImg = new Image();
      bgImg.src = "../game/back1.gif";

      var rabbit1 = new Image();
      rabbit1.src = "../game/rabbit1.png";

      var rabbit2 = new Image();
      rabbit2.src = "../game/rabbit2.png";

      var rabbit3 = new Image();
      rabbit3.src = "../game/rabbit3.png";

      window.onload = function(){
        var canvas = document.getElementById('mycanvas');
        ca = canvas.getContext('2d');

        // 1초에 한번씩 drawScreen를 호출
        // window.setTimeout(drawScreen, 1000);
        // drawScreen();

        // 0.1초에 한번씩 drawScreen를 주기적으로 호출
        window.setInterval(drawScreen, 100);
      }

      function drawScreen() {
        // drawImage(그릴객체, x, y, 너비, 높이)
        ca.drawImage(bgImg, 0, 0, 800, 600);

        count++;
        if(count%3==0){
          ca.drawImage(rabbit1, 100, 100, 80, 80);
        }else if(count%3==1){
          ca.drawImage(rabbit2, 100, 100, 80, 80);
        }else if (count%3==2) {
          ca.drawImage(rabbit3, 100, 100, 80, 80);
        }
        console.log(count);
      }
    </script>
  </head>
  <body>
    <canvas id="mycanvas" width=800 height=600></canvas>
  </body>
</html>
